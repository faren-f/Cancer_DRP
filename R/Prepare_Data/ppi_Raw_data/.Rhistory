library(igraph)
install.packages("igraph")
library(igraph)
install.packages("igraph")
install.packages("igraph")
library(igraph)
BiocManager::install("igraph")
rm(list=ls())
library(biomaRt)
setwd("~/Desktop/Cancer_DRP/R/Prepare_Data/ppi_Raw_data/")
protein_links = read.delim2("9606.protein.links.v11.5.txt", header = TRUE, sep = " ")
protein_info = read.delim2("9606.protein.info.v11.5.txt", header = TRUE, sep = "\t",quote="")
# Seperating 9606 from first part of the ENSPs in protein_links
col1 = strsplit(protein_links$protein1, "[.]")
colname_1 = sapply(col1, '[[', 2)
col2 = strsplit(protein_links$protein2, "[.]")
colname_2 = sapply(col2, '[[', 2)
protein_links$protein1 = colname_1
protein_links$protein2 = colname_2
rm(col1)
rm(col2)
rm(colname_1)
rm(colname_2)
## Using biomaRt package
ensembl = useMart("ensembl", dataset = "hsapiens_gene_ensembl")
myFilter = "ensembl_peptide_id"
myAttributes = c("ensembl_peptide_id", "ensembl_gene_id","hgnc_symbol")
## assemble and query the mart (for the second column of protein_links)
myValues_2 = protein_links$protein2
res2 = getBM(attributes =  myAttributes, filters =  myFilter,
values =  myValues_2, mart = ensembl)
View(res2)
myValues_2[1]
res2 = getBM(attributes =  myAttributes, filters =  myFilter,
values =  myValues_2[1:10], mart = ensembl)
res2
res2 = getBM(attributes =  myAttributes, filters =  myFilter,
values =  myValues_2, mart = ensembl)
View(res2)
myValues_2
#######change ids
mart <- useDataset("hsapiens_gene_ensembl", useMart("ensembl"))
## assemble and query the mart (for the second column of protein_links)
myValues_2 = protein_links$protein2
res2 = getBM(attributes =  myAttributes, filters =  myFilter,
values =  myValues_2, mart = mart)
View(res2)
length(intersect(protein_links$protein1,protein_links$protein1))
v = unique(protein_links$protein1)
f = unique(protein_links$protein2)
